{
    "Name": "Battery Current and Capacity",
    "Width": 1050.0,
    "Height": 479.0,
    "FormObjects": {
        "GroupBox": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "Current and Capacity "
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 6.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 1042.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 448.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Current and Capacity "
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_C_rate_max_charge"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 258.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 16.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_C_rate_max_discharge"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 231.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 17.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_Qfull"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 126.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_Vnom_default"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 99.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_bank_voltage"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 72.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_cell_current_charge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 786.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 129.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 5.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_cell_current_discharge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 786.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 156.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 6.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_cell_power_charge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 786.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 75.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_cell_power_discharge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 786.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 102.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 4.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_bank_capacity"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 231.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 18.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_cells_series_label"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 30.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 153.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Cells in series"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_parallel_label"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 30.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 153.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Strings in parallel"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_series"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 7.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_stacks_series"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 420.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 20.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_strings"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 8.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_computed_voltage"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 312.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 19.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_current_charge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 312.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 22.0
                }
            }
        },
        "RadioChoice": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_current_choice"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 336.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 75.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 222.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 84.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Selection": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Items": {
                    "Type": 6.0,
                    "StringList": "Power limited|Current limited|Limit both current and power"
                },
                "ShowCaptions": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Horizontal": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 2.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_current_discharge_max"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 285.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 23.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_num_cells"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 339.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 20.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_power_charge_max_kwac"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 669.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_power_charge_max_kwdc"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_power_discharge_max_kwac"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 669.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_power_discharge_max_kwdc"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_size_warning"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 18.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 162.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 600.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 48.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": ""
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_time_capacity"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 285.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "batt_ui_nominal_bank_power"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 186.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 258.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Divider": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 22"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 12.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 210.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 1020.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 16.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Orientation": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Colour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 120.0,
                        "Green": 120.0,
                        "Blue": 120.0,
                        "Alpha": 255.0
                    }
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Computed Properties"
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 7"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 18.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 861.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 45.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Use default nominal cell voltage and capacity for the battery chemistry if data is not available from another source. Check the computed properties to verify the battery is sized correctly. "
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 710"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 762.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 57.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "kW"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 711"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 363.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Maximum discharge power"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 712"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 363.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Maximum charge power"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 730"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 669.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 339.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "AC"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 77"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 573.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 339.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "DC"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 79"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 762.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 57.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "kW"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        }
    },
    "VarDatabase": {
        "batt_C_rate_max_charge": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Max C-rate of charge",
            "Units": "per/hour",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 1.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_C_rate_max_discharge": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Max C-rate of discharge",
            "Units": "per/hour",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 1.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_Qfull": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell capacity",
            "Units": "Ah",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 5.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_Qfull_flow": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell capacity",
            "Units": "Ah",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_Vnom_default": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell nominal voltage",
            "Units": "Vdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 3.2,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_bank_voltage": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Desired bank voltage ",
            "Units": "Vdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 450.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_cell_current_charge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell max current charge",
            "Units": "A",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 10.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_cell_current_discharge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell max current discharge",
            "Units": "A",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 10.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_cell_power_charge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell max power charge",
            "Units": "Wdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 2.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_cell_power_discharge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cell max power discharge",
            "Units": "Wdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 2.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_computed_bank_capacity": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Nominal bank capacity",
            "Units": "kWhdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_computed_series": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Cells in series",
            "Units": " ",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_computed_stacks_series": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Stacks in series",
            "Units": " ",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 1.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_computed_strings": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Strings in parallel",
            "Units": " ",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 1.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_computed_voltage": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Nominal bank voltage",
            "Units": "Vdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_current_charge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum charge current",
            "Units": "A",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 100.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_current_choice": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Flow battery current or power limited",
            "Units": " ",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "Power limited|Current Limited| Limit both current and power",
            "Flags": 1.0,
            "DefaultValue": 1.0,
            "UIObject": "RadioChoice",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_current_discharge_max": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum discharge current",
            "Units": "A",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 100.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_num_cells": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Total number of cells",
            "Units": " ",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 1.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_power_charge_max_kwac": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum charge power (AC)",
            "Units": "kWac",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_power_charge_max_kwdc": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum charge power (DC)",
            "Units": "kWdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_power_discharge_max_kwac": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum discharge power (AC)",
            "Units": "kWac",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_power_discharge_max_kwdc": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Maximum discharge power (DC)",
            "Units": "kWdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_time_capacity": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Time at maximum power",
            "Units": "h",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 2.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "batt_ui_nominal_bank_power": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Nominal bank power",
            "Units": "kWdc",
            "Group": "Battery Current and Capacity",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": {
        "1": "equations { 'batt_ui_nominal_bank_power' } = define() { return ${batt_power_discharge_max_kwdc}; };",
        "2": "",
        "3": "equations{ '$MIMO$ batt_bank_computed' } = define() {",
        "4": "",
        "5": "\tchoice = ${batt_size_choice};",
        "6": "\tisflow = ${batt_chem} == 2 || ${batt_chem} == 3;",
        "7": "\t",
        "8": "\t// if user input AC quantities, convert to DC",
        "9": "\tbatt_bank_power = ${batt_bank_power};",
        "10": "\tbatt_bank_capacity = ${batt_bank_size};",
        "11": "\tinv_eff = 96;",
        "12": "\t",
        "13": "\tif ((batt_bank_power == 0 || batt_bank_capacity == 0) && choice == 0)",
        "14": "\t{",
        "15": "\t\t${batt_current_charge_max} = 0;",
        "16": "\t\t${batt_current_discharge_max} = 0;",
        "17": "\t\t${batt_computed_voltage} = 0;",
        "18": "\t\t${batt_computed_series} = 0;",
        "19": "\t\t${batt_computed_strings} = 0;",
        "20": "\t\t${batt_computed_stacks_series} = 0;",
        "21": "\t\t${batt_num_cells} = 0;",
        "22": "\t\t${batt_computed_bank_capacity} = 0;",
        "23": "\t\t${batt_power_discharge_max_kwdc} = 0;",
        "24": "\t\t${batt_power_charge_max_kwdc} = 0;",
        "25": "\t\t${batt_time_capacity} = 0;",
        "26": "\t\t${batt_C_rate_max_charge} = 0;",
        "27": "\t\t${batt_C_rate_max_discharge} = 0;",
        "28": "\t\t${batt_power_charge_max_kwac} = 0;",
        "29": "\t\t${batt_power_discharge_max_kwac} = 0;",
        "30": "\t\treturn;",
        "31": "\t}",
        "32": "\t",
        "33": "\t// AC-coupled",
        "34": "\tif (${batt_ac_or_dc} == 1)",
        "35": "\t{",
        "36": "\t\t// Size for AC discharge capacity",
        "37": "\t\tif (${batt_bank_size_dc_ac} == 1)",
        "38": "\t\t\tbatt_bank_capacity /= (${batt_dc_ac_efficiency}*0.01);",
        "39": "\t\tif (${batt_bank_power_dc_ac} == 1)",
        "40": "\t\t\tbatt_bank_power /= (${batt_dc_ac_efficiency}*0.01);",
        "41": "\t}",
        "42": "\t// DC-coupled",
        "43": "\telse ",
        "44": "\t{ ",
        "45": "\t\tinv_model = ${inverter_model};",
        "46": "\t\tif (inv_model == 0){",
        "47": "\t\t\tinv_eff = ${inv_snl_eff_cec};",
        "48": "\t\t}",
        "49": "\t\telse if (inv_model == 1){",
        "50": "\t\t\tinv_eff = ${inv_ds_eff};",
        "51": "\t\t}",
        "52": "\t\telse if (inv_model == 2){",
        "53": "\t\t\tinv_eff = ${inv_pd_eff};",
        "54": "\t\t}",
        "55": "\t\telse if (inv_model == 3){",
        "56": "\t\t\tinv_eff = ${inv_cec_cg_eff_cec};",
        "57": "\t\t}",
        "58": "\t\tinv_eff *= ${batt_dc_dc_efficiency} * 0.01 * 0.01;",
        "59": "\t\t",
        "60": "\t\t// Size for AC side discharge",
        "61": "\t\tif (${batt_bank_size_dc_ac} == 1)",
        "62": "\t\t\tbatt_bank_capacity /= inv_eff;",
        "63": "\t\tif (${batt_bank_power_dc_ac} == 1)",
        "64": "\t\t\tbatt_bank_power /= inv_eff;",
        "65": "\t}",
        "66": "\t",
        "67": "\t",
        "68": "\t// conventional battery",
        "69": "\tif (!isflow)",
        "70": "\t{",
        "71": "        batt_C_rate_max_discharge = 0;",
        "72": "        batt_C_rate_max_charge = 0;",
        "73": "        string_current = 0;",
        "74": "        bank_desired_voltage = 0;",
        "75": "        num_strings = 0;",
        "76": "        num_series = 0;",
        "77": "        num_parallel = 0;",
        "78": "    ",
        "79": "\t\t// auto-sizing",
        "80": "\t\tif (choice==0)",
        "81": "\t\t{",
        "82": "\t\t\tbatt_C_rate_max_discharge = batt_bank_power / batt_bank_capacity;",
        "83": "\t\t\tbatt_C_rate_max_charge = batt_C_rate_max_discharge;",
        "84": "\t\t\tstring_current = ${batt_Qfull}*batt_C_rate_max_discharge;",
        "85": "\t\t\tbank_desired_voltage = ${batt_bank_voltage};",
        "86": "\t\t\tnum_series = ceil(bank_desired_voltage / ${batt_Vnom_default});",
        "87": "\t\t\tnum_strings = round(batt_bank_capacity * 1000 / (${batt_Qfull} * ${batt_Vnom_default}*num_series));\t",
        "88": "\t\t}",
        "89": "\t\t// manual sizing",
        "90": "\t\telse",
        "91": "\t\t{",
        "92": "\t\t\tnum_series = ${batt_bank_ncells_serial};",
        "93": "\t\t\tnum_strings = ${batt_bank_nstrings};",
        "94": "\t\t\tbatt_C_rate_max_discharge = ${batt_C_rate_max_discharge_input};",
        "95": "\t\t\tbatt_C_rate_max_charge = ${batt_C_rate_max_charge_input};",
        "96": "\t\t}",
        "97": "\t\t",
        "98": "\t\tbatt_computed_voltage = ${batt_Vnom_default}*num_series;",
        "99": "\t\tbank_capacity = ${batt_Qfull} *batt_computed_voltage* num_strings * 0.001;",
        "100": "\t\tbank_power =  bank_capacity*batt_C_rate_max_discharge;",
        "101": "\t\tbank_power_charge = bank_capacity*batt_C_rate_max_charge;",
        "102": "\t\t",
        "103": "\t\t${batt_computed_voltage} = batt_computed_voltage;",
        "104": "\t\t${batt_computed_series} = num_series;",
        "105": "\t\t${batt_computed_strings} = num_strings; ",
        "106": "\t\t${batt_num_cells} = num_series * num_strings;",
        "107": "\t\t${batt_computed_bank_capacity} = bank_capacity;",
        "108": "\t\t${batt_power_discharge_max_kwdc} = bank_power;",
        "109": "\t\t${batt_power_charge_max_kwdc} = bank_power_charge;",
        "110": "\t\t${batt_time_capacity} = bank_capacity/bank_power;",
        "111": "\t\t${batt_C_rate_max_charge} = batt_C_rate_max_charge;",
        "112": "\t\t${batt_C_rate_max_discharge} = batt_C_rate_max_discharge;",
        "113": "\t\t${batt_current_charge_max} =  ${batt_Qfull} * num_strings * batt_C_rate_max_charge;",
        "114": "\t\t${batt_current_discharge_max} =  ${batt_Qfull} * num_strings * batt_C_rate_max_discharge;",
        "115": "\t}",
        "116": "    // flow battery",
        "117": "\telse ",
        "118": "\t{",
        "119": "\t\tpower_limited = ${batt_current_choice} == 0;",
        "120": "\t\tcurrent_limited = !power_limited;",
        "121": "        num_series = 0;",
        "122": "        num_stacks_parallel = 0;",
        "123": "        num_stacks_series = 1;",
        "124": "        batt_computed_voltage = 0;",
        "125": "        bank_capacity = 0;",
        "126": "        bank_current_discharge = 0;",
        "127": "        bank_current_charge = 0;",
        "128": "\t\tbank_power_discharge = 0;",
        "129": "        bank_power_charge = 0;",
        "130": "\t\t",
        "131": "\t\t// auto-sizing",
        "132": "\t\tif (choice==0)",
        "133": "\t\t{",
        "134": "\t\t\t// flow battery capacity is always exactly defined by electrolyte in tank",
        "135": "\t\t\tbank_capacity = batt_bank_capacity;",
        "136": "\t\t\tnum_series = ceil(${batt_bank_voltage} / (num_stacks_series * ${batt_Vnom_default}));",
        "137": "\t\t\tbatt_computed_voltage = ${batt_Vnom_default}*num_series * num_stacks_series;",
        "138": "\t\t\t",
        "139": "\t\t\tif (power_limited)",
        "140": "\t\t\t\tnum_stacks_parallel = ceil(batt_bank_power/(${batt_cell_power_discharge_max}*num_series*num_stacks_series*0.001));",
        "141": "\t\t\telse if (current_limited)",
        "142": "\t\t\t\tnum_stacks_parallel = ceil(batt_bank_power/(batt_computed_voltage * ${batt_cell_current_discharge_max} * 0.001));",
        "143": "",
        "144": "\t\t}",
        "145": "\t\t// manual sizing",
        "146": "\t\telse",
        "147": "\t\t{",
        "148": "\t\t\tnum_series = ${batt_bank_ncells_serial};",
        "149": "\t\t\tnum_stacks_parallel = ${batt_bank_nstrings};",
        "150": "\t\t\tnum_stacks_series = ${batt_bank_nseries_stacks};",
        "151": "\t\t\tbank_capacity = ${batt_bank_size_specify};",
        "152": "\t\t\tbatt_computed_voltage = ${batt_Vnom_default}*num_series * num_stacks_series;",
        "153": "\t\t}",
        "154": "",
        "155": "\t\tif (power_limited)",
        "156": "\t\t{",
        "157": "\t\t\tbank_power_discharge =  ${batt_cell_power_discharge_max} * 0.001 * num_series * num_stacks_series * num_stacks_parallel;",
        "158": "\t\t\tbank_power_charge =  ${batt_cell_power_charge_max} * 0.001 * num_series * num_stacks_series * num_stacks_parallel;",
        "159": "\t\t\tbank_current_discharge = bank_power_discharge * 1000 / batt_computed_voltage;",
        "160": "\t\t\tbank_current_charge = bank_power_charge * 1000 / batt_computed_voltage;",
        "161": "\t\t}",
        "162": "\t\telse if (current_limited)",
        "163": "\t\t{",
        "164": "\t\t\tbank_current_discharge = num_stacks_parallel *  ${batt_cell_current_discharge_max};",
        "165": "\t\t\tbank_current_charge = num_stacks_parallel *  ${batt_cell_current_charge_max};",
        "166": "\t\t\tbank_power_discharge =  batt_computed_voltage * bank_current_discharge * 0.001;",
        "167": "\t\t\tbank_power_charge =  batt_computed_voltage * bank_current_charge * 0.001;",
        "168": "\t\t}",
        "169": "",
        "170": "\t\t// C-rates are derived.  Flow battery power/energy is fully decoupled",
        "171": "\t\tbatt_C_rate_max_discharge = bank_power_charge / bank_capacity;",
        "172": "\t\tbatt_C_rate_max_charge = bank_power_discharge / bank_capacity;",
        "173": "\t\t",
        "174": "\t\t${batt_current_charge_max} = bank_current_charge;",
        "175": "\t\t${batt_current_discharge_max} = bank_current_discharge;",
        "176": "\t\t${batt_computed_voltage} = batt_computed_voltage;",
        "177": "\t\t${batt_computed_series} = num_series;",
        "178": "\t\t${batt_computed_strings} = num_stacks_parallel;",
        "179": "\t\t${batt_computed_stacks_series} = num_stacks_series;",
        "180": "\t\t${batt_num_cells} = num_series * num_stacks_series * num_stacks_parallel;",
        "181": "\t\t${batt_computed_bank_capacity} = bank_capacity;",
        "182": "\t\t${batt_power_discharge_max_kwdc} = bank_power_discharge;",
        "183": "\t\t${batt_power_charge_max_kwdc} = bank_power_charge;",
        "184": "\t\t${batt_time_capacity} = bank_capacity/bank_power_discharge;",
        "185": "\t\t${batt_C_rate_max_charge} = batt_C_rate_max_charge;",
        "186": "\t\t${batt_C_rate_max_discharge} = batt_C_rate_max_discharge;",
        "187": "\t}",
        "188": "\t",
        "189": "\t// Calculate AC charge and discharge power",
        "190": "\tbatt_bank_power_discharge_ac = 0;",
        "191": "\tbatt_bank_power_charge_ac = 0;",
        "192": "\tif (isflow) // flow batteries",
        "193": "\t{",
        "194": "\t\tp_discharge = bank_power_discharge;",
        "195": "        p_charge = bank_power_charge;",
        "196": "\t}",
        "197": "\telse // chemical batteries",
        "198": "\t{",
        "199": "\t\tif ( choice == 0 ) // Set bank capacity",
        "200": "\t\t{",
        "201": "\t\t\tp_discharge = bank_power;",
        "202": "\t\t\tp_charge = bank_power_charge;",
        "203": "\t\t}",
        "204": "\t\telse // specify cells",
        "205": "\t\t{",
        "206": "\t\t\tp_discharge = bank_power;",
        "207": "\t\t\tp_charge = bank_power_charge;",
        "208": "\t\t}\t",
        "209": "\t}",
        "210": "\tif ( choice == 0 ) // Set desired bank size",
        "211": "\t{",
        "212": "\t\tif (${batt_ac_or_dc} == 1) // AC-connected",
        "213": "\t\t{",
        "214": "\t\t\tif ( ${batt_bank_power_dc_ac} == 1 ) // Bank power units in AC kW",
        "215": "\t\t\t{",
        "216": "\t\t\t\tbatt_bank_power_discharge_ac = p_discharge;",
        "217": "\t\t\t\tbatt_bank_power_charge_ac = p_charge;",
        "218": "\t\t\t\tbatt_bank_power_discharge_dc = batt_bank_power_discharge_ac / (${batt_dc_ac_efficiency}*0.01);",
        "219": "\t\t\t\tbatt_bank_power_charge_dc = batt_bank_power_charge_ac * (${batt_ac_dc_efficiency}*0.01);",
        "220": "\t\t\t\t${batt_power_charge_max_kwdc} = batt_bank_power_charge_dc;",
        "221": "\t\t\t\t${batt_power_discharge_max_kwdc} = batt_bank_power_discharge_dc;",
        "222": "\t\t\t\t${batt_current_charge_max} = batt_bank_power_charge_dc*1000/batt_computed_voltage;",
        "223": "\t\t\t\t${batt_current_discharge_max} = batt_bank_power_discharge_dc*1000/batt_computed_voltage;",
        "224": "\t\t\t\t${batt_C_rate_max_discharge} = batt_bank_power_discharge_dc/bank_capacity;",
        "225": "\t\t\t\t${batt_C_rate_max_charge} = batt_bank_power_charge_dc/bank_capacity;",
        "226": "\t\t\t\t",
        "227": "\t\t\t}",
        "228": "\t\t\telse // Bank power units in DC kW",
        "229": "\t\t\t{",
        "230": "\t\t\t\tbatt_bank_power_discharge_ac = p_discharge * (${batt_dc_ac_efficiency}*0.01);",
        "231": "\t\t\t\tbatt_bank_power_charge_ac =  p_charge / (${batt_ac_dc_efficiency}*0.01);",
        "232": "\t\t\t\t",
        "233": "\t\t\t\t",
        "234": "\t\t\t\t//batt_bank_power_discharge_dc = batt_bank_power_discharge_ac / (inv_eff*0.01);",
        "235": "\t\t\t\t//batt_bank_power_charge_dc = batt_bank_power_charge_ac * (inv_eff*0.01);",
        "236": "\t\t\t\t//${batt_power_charge_max_kwdc} = batt_bank_power_charge_dc;",
        "237": "\t\t\t\t//${batt_power_discharge_max_kwdc} = batt_bank_power_discharge_dc;",
        "238": "\t\t\t}",
        "239": "\t\t\t",
        "240": "\t\t}",
        "241": "\t\telse // DC-connected",
        "242": "\t\t{",
        "243": "\t\t\tif ( ${batt_bank_power_dc_ac} == 1) // Bank power units in AC kW",
        "244": "\t\t\t{",
        "245": "\t\t\t\tbatt_bank_power_discharge_ac = p_discharge;",
        "246": "\t\t\t\tbatt_bank_power_charge_ac = p_charge;",
        "247": "\t\t\t\tbatt_bank_power_discharge_dc = batt_bank_power_discharge_ac / (inv_eff);",
        "248": "\t\t\t\tbatt_bank_power_charge_dc = batt_bank_power_charge_ac * (inv_eff);",
        "249": "\t\t\t\t${batt_power_charge_max_kwdc} = batt_bank_power_charge_dc;",
        "250": "\t\t\t\t${batt_power_discharge_max_kwdc} = batt_bank_power_discharge_dc;",
        "251": "\t\t\t\t${batt_current_charge_max} = batt_bank_power_charge_dc*1000/batt_computed_voltage;",
        "252": "\t\t\t\t${batt_current_discharge_max} = batt_bank_power_discharge_dc*1000/batt_computed_voltage;",
        "253": "\t\t\t\t${batt_C_rate_max_discharge} = batt_bank_power_discharge_dc/bank_capacity;",
        "254": "\t\t\t\t${batt_C_rate_max_charge} = batt_bank_power_charge_dc/bank_capacity;",
        "255": "\t\t\t\t",
        "256": "\t\t\t}",
        "257": "\t\t\telse // Bank power units in DC kW",
        "258": "\t\t\t{",
        "259": "\t\t\t\tbatt_bank_power_discharge_ac = p_discharge * inv_eff;",
        "260": "\t\t\t\tbatt_bank_power_charge_ac =  p_charge / inv_eff;",
        "261": "\t\t\t}",
        "262": "\t\t}",
        "263": "\t}",
        "264": "\telse // Specify cells",
        "265": "\t{",
        "266": "\t\tif (${batt_ac_or_dc} == 1) // AC-connected",
        "267": "\t\t{",
        "268": "\t\t\tbatt_bank_power_discharge_ac = p_discharge * (${batt_dc_ac_efficiency}*0.01);",
        "269": "\t\t\tbatt_bank_power_charge_ac =  p_charge / (${batt_ac_dc_efficiency}*0.01);",
        "270": "\t\t}",
        "271": "\t\telse // DC-connected",
        "272": "\t\t{",
        "273": "\t\t\tbatt_bank_power_discharge_ac = p_discharge * inv_eff;",
        "274": "\t\t\tbatt_bank_power_charge_ac =  p_charge / inv_eff;",
        "275": "",
        "276": "\t\t}",
        "277": "\t}",
        "278": "",
        "279": "\t${batt_power_charge_max_kwac} = batt_bank_power_charge_ac;",
        "280": "\t${batt_power_discharge_max_kwac} = batt_bank_power_discharge_ac;",
        "281": "\t//${batt_current_discharge_max} = batt_bank_power_discharge_dc/${batt_computed_voltage}*1000;",
        "282": "\t//${batt_current_charge_max} = batt_bank_power_charge_dc/${batt_computed_voltage}*1000;",
        "283": "};",
        "284": "",
        "285": "equations{ '$MIMO$ batt_lead_acid_computed' } = define() {",
        "286": "\t${LeadAcid_q10_computed} = ${batt_computed_strings}*${LeadAcid_q10}*${batt_Qfull}/100;",
        "287": "\t${LeadAcid_q20_computed} = ${batt_computed_strings}*${LeadAcid_q20}*${batt_Qfull}/100;",
        "288": "\t${LeadAcid_qn_computed} = ${batt_computed_strings}*${LeadAcid_qn}*${batt_Qfull}/100;",
        "289": "};",
        "290": "",
        "291": "equations{ '$MIMO$ batt_capacity'} = define(){",
        "292": "\t${batt_Qexp} = ${batt_Qexp_percent}*${batt_Qfull}*0.01;",
        "293": "\t${batt_Qnom} = ${batt_Qnom_percent}*${batt_Qfull}*0.01;",
        "294": "\t${batt_Qfull_flow} =  ${batt_computed_bank_capacity} * 1000 / ${batt_computed_voltage};",
        "295": "};",
        "296": ""
    },
    "Callbacks": {
        "1": "on_load{'Battery Current and Capacity'} = define()",
        "2": "{",
        "3": "\ton_change{'batt_Qfull'};",
        "4": "\ton_change{'batt_current_choice'};",
        "5": "\ton_change{'batt_Vnom_default'};",
        "6": "\tset_current_and_capacity();",
        "7": "};",
        "8": "",
        "9": "on_change{'batt_Qfull'} = define() { battsize_warning_check(); };",
        "10": "on_change{'batt_Vnom_default'} = define() { battsize_warning_check(); };",
        "11": "on_change{'batt_current_choice'} = define() { set_current_and_capacity(); };",
        "12": "",
        "13": "function battsize_warning_check()",
        "14": "{",
        "15": "\tmessage = '';",
        "16": "\tcolor = 'black';",
        "17": "\t// if computed bank voltage is more than 1.5x desired, display",
        "18": "\tif ( value('batt_chem') == 2 )",
        "19": "\t{",
        "20": "\t\tmessage = 'For vanadium redox batteries, set the nominal voltage to the voltage at 50% SOC.\\n';",
        "21": "\t}",
        "22": "\tif ((${batt_computed_bank_capacity} > 1.25*${batt_bank_size} ||",
        "23": "\t\t ${batt_computed_bank_capacity} < 0.75*${batt_bank_size} ) &&",
        "24": "\t     ${batt_size_choice} == 0)",
        "25": "\t{",
        "26": "\t\tmessage += 'Unable to achieve desired bank capacity and power for the given battery bank voltage, cell voltage, and cell capacity.';",
        "27": "\t\tcolor = 'red';",
        "28": "\t\t//logmsg('desired: ' + ${batt_bank_size} + ' computed: ' + ${batt_computed_bank_capacity});",
        "29": "\t\t//logmsg('Qfull: ' + ${batt_Qfull} + ' n: ' + ${batt_num_cells} + ' Vbatt: ' + ${batt_computed_voltage});",
        "30": "\t}",
        "31": "\tproperty( 'batt_size_warning','Caption', message );",
        "32": "\tproperty( 'batt_size_warning','TextColour', color );",
        "33": "}",
        "34": "",
        "35": "function set_current_and_capacity()",
        "36": "{",
        "37": "\tcurrent_choice = value('batt_current_choice');",
        "38": "\tisflow = is_flow(); // is_flow() defined on Battery Model form",
        "39": "\t// nominal voltage not input for iron flow, but is for vanadium flow",
        "40": "\tis_vnom_input = value('batt_chem') == 0 || value('batt_chem') == 1 || value('batt_chem') == 2;",
        "41": "\tcurrent_limited = current_choice == 1 || current_choice == 2;",
        "42": "\tpower_limited = current_choice == 0 || current_choice == 2;",
        "43": "",
        "44": "\tshow('batt_Qfull', !isflow);",
        "45": "\tshow('batt_Vnom_default', is_vnom_input );",
        "46": "\tshow('batt_cell_current_charge_max', isflow);",
        "47": "\tshow('batt_cell_current_discharge_max', isflow);",
        "48": "\tshow('batt_cell_power_charge_max', isflow);",
        "49": "\tshow('batt_cell_power_discharge_max', isflow);",
        "50": "\tshow('batt_computed_stacks_series', isflow);",
        "51": "\tshow('batt_current_choice', isflow);",
        "52": "\t",
        "53": "\tenable('batt_cell_current_charge_max', current_limited);",
        "54": "\tenable('batt_cell_current_discharge_max', current_limited);",
        "55": "\tenable('batt_cell_power_charge_max', power_limited);",
        "56": "\tenable('batt_cell_power_discharge_max', power_limited);",
        "57": "}"
    }
}