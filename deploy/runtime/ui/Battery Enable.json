{
    "Name": "Battery Enable",
    "Width": 396.0,
    "Height": 31.0,
    "FormObjects": {
        "CheckBox": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "en_batt"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 9.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 375.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Enable battery model"
                },
                "State": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        }
    },
    "VarDatabase": {
        "en_batt": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Enable battery model",
            "Units": " ",
            "Group": "Battery Enable",
            "IndexLabels": "",
            "Flags": 141.0,
            "DefaultValue": 0.0,
            "UIObject": "CheckBox",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "en_wave_batt": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Enable wave battery model",
            "Units": " ",
            "Group": "Battery Enable",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": {
        "1": "equations{'en_batt'} = define() {",
        "2": "\tt = technology();",
        "3": "\t// for battery configs, enable battery and hide input",
        "4": "\tif ( t != 'PV Battery' && t != 'Generic Battery' && t!= 'Fuel Cell'",
        "5": "\t\t&& t != 'MEwave Battery')",
        "6": "\t{",
        "7": "\t\treturn false;",
        "8": "\t}",
        "9": "};",
        "10": "",
        "11": "equations{'en_wave_batt'} = define() {",
        "12": "\tt = technology();",
        "13": "\tif (t != \"MEwave Battery\") {",
        "14": "\t\treturn false;",
        "15": "\t}",
        "16": "\telse {",
        "17": "\t\treturn true;",
        "18": "\t}",
        "19": "};"
    },
    "Callbacks": {
        "1": "// for battery configurations, need en_batt to determine",
        "2": "// whether to display battery-related inputs on costs pages, etc.",
        "3": "// 'en_batt' required as input to cmod_pvsamv1, cmod_battery",
        "4": "// financial models also check 'en_batt' for replacement cost calcs",
        "5": "// set en_batt here instead of equations so versions.lk works properly",
        "6": "// for opening files from SAM 2018.11.11 and older",
        "7": "on_load{'Battery Enable'} = define ()",
        "8": "{",
        "9": "\tshow('en_batt',false);",
        "10": "\tt = technology();",
        "11": "\t// for battery configs, enable battery and hide input",
        "12": "\tif ( t == 'PV Battery' || t == 'Generic Battery' )",
        "13": "\t{",
        "14": "\t\t${en_batt} = true;",
        "15": "\t}",
        "16": "\t// for fuel cell 'en_batt' is set by user, see exclusive var in Startup.lk",
        "17": "\telseif( t != 'Fuel Cell' )",
        "18": "\t{",
        "19": "\t\t${en_batt} = false;",
        "20": "\t}",
        "21": "};\t"
    }
}