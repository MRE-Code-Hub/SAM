{
    "Name": "PV Capex Fuel Cell",
    "Width": 827.0,
    "Height": 383.0,
    "FormObjects": {
        "GroupBox": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "Capital Costs"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 9.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 6.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 812.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 361.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Fuel Cell Capital Cost Table"
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_fuelcell_warning_message"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 276.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 789.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 39.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": ""
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_fuelcell_cost_per_kw"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 210.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "DataMatrix": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_fuelcell_inputs"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 27.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 416.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 223.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "PasteAppendRows": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "PasteAppendCols": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowButtons": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ShowRows": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ShowRowLabels": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "RowLabels": {
                    "Type": 5.0,
                    "String": ""
                },
                "ShadeR0C0": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "VerticalLabel": {
                    "Type": 5.0,
                    "String": ""
                },
                "HorizontalLabel": {
                    "Type": 5.0,
                    "String": ""
                },
                "ShadeC0": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowCols": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowColLabels": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ColLabels": {
                    "Type": 5.0,
                    "String": "Capacity (kW), Fuel Cell Costs ($/kW)"
                },
                "NumRowsLabel": {
                    "Type": 5.0,
                    "String": "Rows:"
                },
                "NumColsLabel": {
                    "Type": 5.0,
                    "String": "Cols:"
                },
                "Layout": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "ChoiceColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "Choices": {
                    "Type": 5.0,
                    "String": "Choice1,Choice2"
                },
                "HideColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "ShowColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "ColorMap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Plot": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_fuelcell_plot"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 453.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 27.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 346.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 225.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_perkw_label"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 18.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 192.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Capex cost per kW"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_total_installed_fuelcell_cost"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 720.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "capex_table_total_label1"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 549.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 171.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Total land cost"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "fuelcell_power_kw"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Divider": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 21"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 18.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 261.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 792.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 16.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Orientation": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Colour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 120.0,
                        "Green": 120.0,
                        "Blue": 120.0,
                        "Alpha": 255.0
                    }
                },
                "Caption": {
                    "Type": 5.0,
                    "String": ""
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 710"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 534.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 15.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "="
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 77"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 366.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 15.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "X"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 78"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 483.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 39.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "kW"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 782"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 303.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 324.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 39.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "$/kW"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        }
    },
    "VarDatabase": {
        "capex_table_fuelcell_cost_per_kw": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Fuel cell cost per kilowatt ",
            "Units": "$/kW",
            "Group": "Capital Costs",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "capex_table_fuelcell_inputs": {
            "Version": 4.0,
            "Type": 3.0,
            "Label": "Capex Table Fuel Cell Inputs",
            "Units": " ",
            "Group": "Capital Costs",
            "IndexLabels": "",
            "Flags": 1.0,
            "DefaultValue": [
                [
                    0.0
                ]
            ],
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "capex_table_total_installed_fuelcell_cost": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Total fuel cell installed costs",
            "Units": "$ ",
            "Group": "Capital Costs",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "fuelcell_power_kw": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Fuel cell nameplate",
            "Units": "kW",
            "Group": "Capital Costs",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": {
        "1": "equations{'fuelcell_power_kw'} = define() {",
        "2": "\treturn ${fuelcell_power_total};",
        "3": "};"
    },
    "Callbacks": {
        "1": "function capex_table_fuelcell_inputs_update_plot()",
        "2": "{",
        "3": "\tCap = [];",
        "4": "\tcost_per_kw = [];",
        "5": "\tsys_cap_bin = [];",
        "6": "\tsys_cost_bin = [];",
        "7": "\tcost_per_kw[0] = 0;",
        "8": "\tCap[0] = 0;",
        "9": "\tinput = ${capex_table_fuelcell_inputs};",
        "10": "\t",
        "11": "\tsys_cap = ${fuelcell_power_kw};",
        "12": "\t\t",
        "13": "\tsys_cap_bin[0] = sys_cap;",
        "14": "\tsys_cap_bin[1] = -500000;",
        "15": "\tsys_cost_bin[0] = ${capex_table_fuelcell_cost_per_kw};",
        "16": "\tsys_cost_bin[1] = -100;",
        "17": "\t",
        "18": "\tcurves = [ [ 1000, 25, 'black' ],",
        "19": "\t\t\t   [ 800,  25, 'blue' ],",
        "20": "\t\t\t   [ 600,  25, 'red' ],",
        "21": "\t\t\t   [ 400,  25, 'forest green' ],",
        "22": "\t\t\t   [ 200,  25, 'orange' ] ];",
        "23": "\t\t\t   ",
        "24": "\tnr = #input;",
        "25": "\tnc = #input[0];",
        "26": "\tidx=0;",
        "27": "\t",
        "28": "\twhile( idx < nr )",
        "29": "\t{",
        "30": "\t\tif (input[idx][0] >= 0){",
        "31": "\t\t\tCap[idx] = input[idx][0];",
        "32": "\t\t\tcost_per_kw[idx] = input[idx][1];",
        "33": "\t\t\t\t",
        "34": "\t\t}",
        "35": "\t\tidx++;",
        "36": "\t}",
        "37": "\t\t",
        "38": "\t\t",
        "39": "\t\t\t   ",
        "40": "\tsetplot( 'capex_table_fuelcell_plot' );",
        "41": "\tclearplot();",
        "42": "\t\t",
        "43": "\tplot(Cap,cost_per_kw,{\"series\"=\"Fuel Cell Costs Table\",",
        "44": "\t\t\"thick\"=2, \"scale\"=true,\"color\"=curves[0][2]});",
        "45": "\tplot(sys_cap_bin,sys_cost_bin,",
        "46": "\t\t{\"series\"=\"Fuel Cell Cost\",\"type\"=\"scatter\",\"thick\"=5,\"scale\"=true,\"color\"=curves[2][2]});",
        "47": "\tplotopt({\"popup\"=false,\"backcolor\"=[255,255,255],\"legend\"=true, 'legendpos'='southwest'});",
        "48": "\t\t",
        "49": "\taxis('x1', {'label'='Nameplate (kW)', 'min'=0, 'max'=max(Cap)+1});",
        "50": "\taxis('y1', {'label'='Capex ($/kW)', 'min'=0, 'max'= max(cost_per_kw)+1});",
        "51": "\t",
        "52": "\t",
        "53": "\t/*",
        "54": "\telse {",
        "55": "\t\twhile( idx < nr )",
        "56": "\t\t{",
        "57": "\t\t\tif (input[idx][0] > 0){",
        "58": "\t\t\t\tCap[idx] = input[idx][0];",
        "59": "\t\t\t\tcost_per_kw[idx] = input[idx][1];",
        "60": "\t\t\t\tind_cost_per_kw[idx] = input[idx][2];",
        "61": "\t\t\t\t",
        "62": "\t\t\t}",
        "63": "\t\t\tidx++;",
        "64": "\t\t}",
        "65": "\t\t",
        "66": "\t\t",
        "67": "\t\t\t   ",
        "68": "\t\tsetplot( 'capex_table_plot' );",
        "69": "\t\tclearplot();",
        "70": "\t\t",
        "71": "\t\tplot(Cap,cost_per_kw,{\"series\"= \"DC Costs\",",
        "72": "\t\t\t\"thick\"=2, \"scale\"=true,\"color\"=curves[0][2]});",
        "73": "\t\tplot(Cap,ind_cost_per_kw,{\"series\"= \"AC Costs\",",
        "74": "\t\t\t\"thick\"=2, \"scale\"=true,\"color\"=curves[1][2]});",
        "75": "\t\tplot(sys_cap_bin_dir,dir_cost_bin,",
        "76": "\t\t\t{\"series\"=\"Cost\",\"type\"=\"scatter\",\"thick\"=5,\"scale\"=true,\"color\"=curves[2][2]});",
        "77": "\t\tplot(sys_cap_bin,ind_cost_bin,",
        "78": "\t\t\t{\"series\"=\"Indirect Cost\",\"type\"=\"scatter\",\"thick\"=5,\"scale\"=true,\"color\"=curves[3][2]});",
        "79": "\t\tplotopt({\"popup\"=false,\"backcolor\"=[255,255,255],\"legend\"=true, 'legendpos'='northwest'});",
        "80": "\t\taxis('x1', {'label'='Capacity (kW)', 'min'=0, 'max'=max(Cap)+1});",
        "81": "\t\taxis('y1', {'label'='Capex ($/kW)', 'min'=0, 'max'= max(cost_per_kw)+500});",
        "82": "\t",
        "83": "\t",
        "84": "\t}",
        "85": "\t*/",
        "86": "\trefresh();",
        "87": "\t/*",
        "88": "\tconst np = 150;",
        "89": "\txx = alloc(np);",
        "90": "\tyy = alloc(np);",
        "91": "\tfor( i=0;i<#Cap;i++ )",
        "92": "\t{\t",
        "93": "\t\tnPairs = #cost_per_kw[i];",
        "94": "\t",
        "95": "\t\txx[0] = 0;",
        "96": "\t\tyy[0] = (0 <= Cap[i][0] ) ? 1 : 1+slope[i][0]*(-Cap[i][0]);",
        "97": "\t\tpIdx = 1;",
        "98": "\t\twhile (pIdx*0.4 < T[i][0]){",
        "99": "\t\t\txx[pIdx] = pIdx*0.4;",
        "100": "\t\t\tyy[pIdx] = 1;",
        "101": "\t\t\tpIdx++;",
        "102": "\t\t}",
        "103": "\t\tfor (j=0; j<nPairs; j++){",
        "104": "\t\t\tintervalEnd = (j > #T[i] - 2) ? 60:  T[i][j+1];",
        "105": "\t\t\twhile( pIdx*0.4 < intervalEnd){",
        "106": "\t\t\t\txx[pIdx] = pIdx*0.4;",
        "107": "\t\t\t\tyy[pIdx] = yy[pIdx-1] + slope[i][j]*0.4;",
        "108": "\t\t\t\tif (yy[pIdx] <= 0) yy[pIdx] = 0;",
        "109": "\t\t\t\tpIdx++;",
        "110": "\t\t\t}",
        "111": "",
        "112": "\t\t}",
        "113": "\t\tplot(xx,yy,{'series'=sprintf('@ %g Vdc', Vdc[i]),",
        "114": "\t\t\t\"thick\"=1, \"scale\"=true,\"color\"=curves[i][2]});",
        "115": "",
        "116": "\t}",
        "117": "\t//Make the plot",
        "118": "\tplotopt({\"popup\"=false,\"backcolor\"=[255,255,255],\"legend\"=true, 'legendpos'='southwest'});",
        "119": "\taxis('x1', {'label'='Ambient Temp (C)', 'min'=0, 'max'=60});",
        "120": "\taxis('y1', {'label'='Max power / Rated power', 'min'=0, 'max'= (1.1)});",
        "121": "\t*/",
        "122": "}",
        "123": "",
        "124": "on_load{ 'PV Capex Fuel Cell' } = define() {\t",
        "125": "\t//capex_table_fuelcell_inputs_update_plot();",
        "126": "\tinterpolate_fuelcell_capex_table();",
        "127": "\tcapex_table_fuelcell_inputs_update_plot();",
        "128": "};",
        "129": "",
        "130": "on_change{'btn_update_capex_table_inputs'} = define() {\t",
        "131": "\t//capex_table_fuelcell_inputs_update_plot();",
        "132": "\tinterpolate_fuelcell_capex_table();",
        "133": "\tcapex_table_fuelcell_inputs_update_plot();",
        "134": "};",
        "135": "",
        "136": "",
        "137": "on_change{'capex_table_fuelcell_inputs'} = define() {",
        "138": "\tinterpolate_fuelcell_capex_table();",
        "139": "\tcapex_table_fuelcell_inputs_update_plot();",
        "140": "};",
        "141": "",
        "142": "",
        "143": "function interpolate_fuelcell_capex_table()",
        "144": "{",
        "145": "\tinput = ${capex_table_fuelcell_inputs};",
        "146": "\t",
        "147": "\tsys_cap = ${fuelcell_power_kw};",
        "148": "\t",
        "149": "\tnr = #input;",
        "150": "\tnc = #input[0];",
        "151": "\t//refresh();",
        "152": "\tidx=0;",
        "153": "\t//Cap_low = [];",
        "154": "\t//Cap_high = [];",
        "155": "\tif (nc == 1) {",
        "156": "\t\tcost = 0;",
        "157": "\t\ttotal_cost = cost*sys_cap;",
        "158": "\t\tvalue(\"capex_table_fuelcell_cost_per_kw\", cost);",
        "159": "\t\tvalue(\"capex_table_total_installed_fuelcell_cost\",total_cost);",
        "160": "\t\tproperty('capex_fuelcell_warning_message', 'Caption', 'The cost table must have two columns: Capacity (kW) and Fuel Cell Costs ($/kW).');",
        "161": "\t\texit;",
        "162": "\t}",
        "163": "\t//property('capex_table_inputs','ShowColumn','Capacity (kW),Costs ($/kW)');",
        "164": "\tif (sys_cap > input[nr - 1][0]) {",
        "165": "\t\tcost = input[nr - 1][1];",
        "166": "\t\tcap_string = to_string(to_int(sys_cap));",
        "167": "\t\ttable_string = to_string(to_int(input[nr-1][0]));",
        "168": "\t\tvalue('capex_fuelcell_warning_message','Caption','The total capacity is '+cap_string+' kW and the maximum cost table capacity value is '+table_string + ' kW. The system capacity is outside the bounds of the cost table.');",
        "169": "\t\t\t",
        "170": "\t}",
        "171": "\telse if (sys_cap < input[0][0]) {",
        "172": "\t\tcost = input[0][1];",
        "173": "\t\tcap_string = to_string(to_int(sys_cap));",
        "174": "\t\ttable_string = to_string(to_int(input[0][0]));",
        "175": "\t\tproperty('capex_fuelcell_warning_message','Caption','The total capacity is '+cap_string+' kW and the minimum cost table capacity value is '+table_string + ' kW. The land use is outside the bounds of the cost table.');",
        "176": "\t\t\t",
        "177": "\t}",
        "178": "\telse {",
        "179": "\t\twhile (sys_cap > input[idx][0]) {",
        "180": "\t\t\t\tidx++;",
        "181": "\t\t\t}",
        "182": "\t\t",
        "183": "\t\tif (idx != 0) {",
        "184": "\t\t\tCap_low = input[idx-1][0];",
        "185": "\t\t\tCap_high = input[idx][0];\t",
        "186": "\t\t\tcost_low = input[idx-1][1];",
        "187": "\t\t\tcost_high = input[idx][1];",
        "188": "\t\t}",
        "189": "\t\telse",
        "190": "\t\t{",
        "191": "\t\t\tCap_low = input[0][0];",
        "192": "\t\t\tCap_high = input[1][0];",
        "193": "\t\t\tcost_low = input[0][1];",
        "194": "\t\t\tcost_high = input[1][1];",
        "195": "\t\t}",
        "196": "\t\tproperty('capex_fuelcell_warning_message','Caption','');",
        "197": "\t\tcost = (sys_cap - Cap_low)/(Cap_high - Cap_low) * (cost_high - cost_low) + cost_low;",
        "198": "\t\t\t",
        "199": "\t}",
        "200": "\ttotal_cost = cost*sys_cap;",
        "201": "\tvalue(\"capex_table_fuelcell_cost_per_kw\", cost);",
        "202": "\tvalue(\"capex_table_total_installed_fuelcell_cost\",total_cost);",
        "203": "\t//value(\"total_installed_cost\", total_cost);",
        "204": "\t//refresh();",
        "205": "\t",
        "206": "}",
        "207": "\t\t\t",
        "208": "",
        "209": "\t\t",
        "210": "\t\t"
    }
}